<!DOCTYPE html><html lang="en" data-astro-cid-q7ila5la> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.11.0"><title>Front-end Architecture Reference</title><meta name="description" content="Explore a Arquitetura de Ilhas, um padrão que visa reduzir o JavaScript enviado ao cliente, entregando componentes interativos como &#34;ilhas&#34; em um mar de HTML estático."><link rel="canonical" href="https://o-guia-do-arquiteto-front-end.vercel.app/patterns/islands-architecture/"><meta property="og:title" content="Front-end Architecture Reference"><meta property="og:description" content="Explore a Arquitetura de Ilhas, um padrão que visa reduzir o JavaScript enviado ao cliente, entregando componentes interativos como &#34;ilhas&#34; em um mar de HTML estático."><meta property="og:url" content="https://o-guia-do-arquiteto-front-end.vercel.app/patterns/islands-architecture/"><meta property="og:image" content="https://o-guia-do-arquiteto-front-end.vercel.app/og-image.png"><meta property="og:type" content="website"><meta property="og:site_name" content="FN-ARCH"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Front-end Architecture Reference"><meta name="twitter:description" content="Explore a Arquitetura de Ilhas, um padrão que visa reduzir o JavaScript enviado ao cliente, entregando componentes interativos como &#34;ilhas&#34; em um mar de HTML estático."><meta name="twitter:image" content="https://o-guia-do-arquiteto-front-end.vercel.app/og-image.png"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CtSceO8m.js"></script><script>
      const theme = (() => {
        if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
          return localStorage.getItem('theme');
        }
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
          return 'dark';
        }
        return 'light';
      })();

      if (theme === 'light') {
        document.documentElement.classList.remove('dark');
      } else {
        document.documentElement.classList.add('dark');
      }
    </script><style>.hero-section{display:flex;flex-direction:column;align-items:center;text-align:center;gap:1rem;padding-bottom:2rem;border-bottom:1px solid var(--border);margin-bottom:2rem}.title{font-size:2.25rem;font-weight:800}.subtitle{max-width:42rem;color:var(--muted-foreground);font-size:1.125rem}.prose{margin:0 auto}.prose .mermaid{--mermaid-background: #282c34;--mermaid-main-bg: #282c34;--mermaid-text-color: #abb2bf;--mermaid-node-border: #61afef;--mermaid-primary-color: #353b45;--mermaid-primary-border-color: #61afef;--mermaid-primary-text-color: #e6e6e6;--mermaid-secondary-color: #2c313a;--mermaid-secondary-border-color: #c678dd;--mermaid-secondary-text-color: #e6e6e6;--mermaid-tertiary-color: #21252b;--mermaid-tertiary-border-color: #98c379;--mermaid-tertiary-text-color: #e6e6e6;--mermaid-line-color: #5c6370;--mermaid-cluster-bg: #21252b;--mermaid-cluster-border: #5c6370;display:flex;justify-content:center;background:transparent;padding:1rem;margin-block:2rem}.prose .mermaid svg{background-color:var(--mermaid-main-bg)!important;border-radius:.5rem}.prose h1,.prose h2{font-size:1.5rem;font-weight:700;margin-top:2em;margin-bottom:1em}.prose p{line-height:1.7;margin-bottom:1em}.prose a{color:var(--primary);text-decoration:underline}.prose ul{list-style-type:disc;padding-left:1.5em;margin-bottom:1em}.prose code{background-color:var(--secondary);padding:.2em .4em;border-radius:.3em;font-size:.9em}
</style>
<link rel="stylesheet" href="/_astro/how-to-choose.CB2rNw1h.css">
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}
.sidebar[data-astro-cid-3exahiod]{grid-area:sidebar;background-color:var(--secondary);border-right:1px solid var(--border);padding:1.5rem;overflow-y:auto;display:none}@media (min-width: 768px){.sidebar[data-astro-cid-3exahiod]{display:block}}.search-wrapper[data-astro-cid-3exahiod]{position:relative;margin-bottom:1.5rem}.search-icon[data-astro-cid-3exahiod]{position:absolute;top:50%;left:.75rem;transform:translateY(-50%);color:var(--muted-foreground)}#sidebar-search[data-astro-cid-3exahiod]{width:100%;padding:.5rem .75rem .5rem 2.5rem;background-color:var(--background);border:1px solid var(--border);border-radius:.5rem;color:var(--foreground);font-size:.9rem}.nav-links[data-astro-cid-3exahiod] ul[data-astro-cid-3exahiod]{list-style:none;padding:0;margin:0}.category-group[data-astro-cid-3exahiod]{margin-bottom:1.5rem}.category-title[data-astro-cid-3exahiod]{font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:var(--muted-foreground);margin:0 0 .5rem .5rem}.nav-item[data-astro-cid-3exahiod] a[data-astro-cid-3exahiod]{display:block;padding:.5rem 1rem;border-radius:.375rem;text-decoration:none;color:var(--foreground);transition:background-color .15s ease-in-out,color .15s ease-in-out;font-size:.9rem}.nav-item[data-astro-cid-3exahiod] a[data-astro-cid-3exahiod]:hover{background-color:var(--accent)}.nav-item[data-astro-cid-3exahiod] a[data-astro-cid-3exahiod].active{background-color:var(--primary);color:var(--primary-foreground);font-weight:500}
</style><script>window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
		var script = document.createElement('script');
		script.defer = true;
		script.src = '/_vercel/insights/script.js';
		var head = document.querySelector('head');
		head.appendChild(script);
	</script></head> <body data-astro-cid-q7ila5la> <div class="app-shell" data-astro-cid-q7ila5la> <header class="header" data-astro-cid-q7ila5la> <div class="header-left" data-astro-cid-q7ila5la> <button id="menu-toggle" class="menu-button" data-astro-cid-q7ila5la> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" data-astro-cid-q7ila5la="true" class="lucide lucide-menu">  <path d="M4 12h16"></path> <path d="M4 18h16"></path> <path d="M4 6h16"></path>  </svg> </button> <a href="/" class="logo" data-astro-cid-q7ila5la> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" data-astro-cid-q7ila5la="true" class="lucide lucide-rocket">  <path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"></path> <path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"></path> <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"></path> <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"></path>  </svg> <span class="logo-text" data-astro-cid-q7ila5la>Front-end Architecture Reference</span> </a> </div> <button id="theme-toggle-btn" class="theme-toggle" data-astro-cid-lfoluaxz> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" data-astro-cid-lfoluaxz="true" class="lucide lucide-sun icon sun">  <circle cx="12" cy="12" r="4"></circle> <path d="M12 2v2"></path> <path d="M12 20v2"></path> <path d="m4.93 4.93 1.41 1.41"></path> <path d="m17.66 17.66 1.41 1.41"></path> <path d="M2 12h2"></path> <path d="M20 12h2"></path> <path d="m6.34 17.66-1.41 1.41"></path> <path d="m19.07 4.93-1.41 1.41"></path>  </svg> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" data-astro-cid-lfoluaxz="true" class="lucide lucide-moon icon moon">  <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>  </svg> </button>  <script type="module">document.addEventListener("astro:page-load",()=>{const e=document.getElementById("theme-toggle-btn");e&&e.addEventListener("click",()=>{const t=document.documentElement.classList.toggle("dark");document.documentElement.classList.toggle("light",!t),localStorage.setItem("theme",t?"dark":"light")}),(localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"))==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark"))});</script> </header> <aside class="sidebar" data-astro-cid-3exahiod> <div class="search-wrapper" data-astro-cid-3exahiod> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="18" height="18" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" data-astro-cid-3exahiod="true" class="lucide lucide-search search-icon">  <path d="m21 21-4.34-4.34"></path> <circle cx="11" cy="11" r="8"></circle>  </svg> <input type="text" id="sidebar-search" placeholder="Buscar padrões..." data-astro-cid-3exahiod> </div> <nav class="nav-links" data-astro-cid-3exahiod> <ul data-astro-cid-3exahiod> <li class="category-group" data-astro-cid-3exahiod> <p class="category-title" data-astro-cid-3exahiod>Guias de Decisão</p> <ul data-astro-cid-3exahiod> <li class="nav-item" data-name="como escolher sua arquitetura guia" data-keywords="guias decisão arquitetura escolher" data-astro-cid-3exahiod> <a href="/guides/how-to-choose/" data-astro-cid-3exahiod>
Como Escolher...
</a> </li> </ul> </li> <li class="category-group" data-astro-cid-3exahiod> <p class="category-title" data-astro-cid-3exahiod>Arquiteturas de Aplicação</p> <ul data-astro-cid-3exahiod> <li class="nav-item" data-name="arquitetura de ilhas (islands architecture)" data-keywords="islands-architecture" data-astro-cid-3exahiod> <a href="/patterns/islands-architecture/" class="active" data-astro-cid-3exahiod> Arquitetura de Ilhas (Islands Architecture) </a> </li><li class="nav-item" data-name="clean architecture" data-keywords="clean-architecture" data-astro-cid-3exahiod> <a href="/patterns/clean-architecture/" data-astro-cid-3exahiod> Clean Architecture </a> </li><li class="nav-item" data-name="jamstack" data-keywords="jamstack" data-astro-cid-3exahiod> <a href="/patterns/jamstack/" data-astro-cid-3exahiod> Jamstack </a> </li><li class="nav-item" data-name="micro-frontends" data-keywords="micro-frontends" data-astro-cid-3exahiod> <a href="/patterns/micro-frontends/" data-astro-cid-3exahiod> Micro-frontends </a> </li><li class="nav-item" data-name="single page application (spa)" data-keywords="spa" data-astro-cid-3exahiod> <a href="/patterns/spa/" data-astro-cid-3exahiod> Single Page Application (SPA) </a> </li> </ul> </li><li class="category-group" data-astro-cid-3exahiod> <p class="category-title" data-astro-cid-3exahiod>Padrões de UI</p> <ul data-astro-cid-3exahiod> <li class="nav-item" data-name="atomic design" data-keywords="atomic-design" data-astro-cid-3exahiod> <a href="/patterns/atomic-design/" data-astro-cid-3exahiod> Atomic Design </a> </li><li class="nav-item" data-name="desenvolvimento orientado a componentes (cdd)" data-keywords="component-driven" data-astro-cid-3exahiod> <a href="/patterns/component-driven/" data-astro-cid-3exahiod> Desenvolvimento Orientado a Componentes (CDD) </a> </li><li class="nav-item" data-name="máquinas de estado (state machines)" data-keywords="state-machines" data-astro-cid-3exahiod> <a href="/patterns/state-machines/" data-astro-cid-3exahiod> Máquinas de Estado (State Machines) </a> </li> </ul> </li><li class="category-group" data-astro-cid-3exahiod> <p class="category-title" data-astro-cid-3exahiod>Organização de Código</p> <ul data-astro-cid-3exahiod> <li class="nav-item" data-name="monorepo" data-keywords="monorepo" data-astro-cid-3exahiod> <a href="/patterns/monorepo/" data-astro-cid-3exahiod> Monorepo </a> </li> </ul> </li> </ul> </nav> </aside> <script type="module" src="/_astro/Sidebar.astro_astro_type_script_index_0_lang.BAAFc7nj.js"></script>  <main class="main-content" data-astro-cid-q7ila5la>  <article> <header class="hero-section"> <h1 class="title"></h1> <p class="subtitle">Explore a Arquitetura de Ilhas, um padrão que visa reduzir o JavaScript enviado ao cliente, entregando componentes interativos como &quot;ilhas&quot; em um mar de HTML estático.</p> </header> <div class="prose"> <html lang="pt-br"> <head><meta charset="UTF-8"><meta name="description" content="Explore a Arquitetura de Ilhas, um padrão que visa reduzir o JavaScript enviado ao cliente, entregando componentes interativos como &#34;ilhas&#34; em um mar de HTML estático."><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.11.0"><title>Arquitetura de Ilhas (Islands Architecture) | O Guia do Arquiteto Front-end</title><meta property="og:title" content="Arquitetura de Ilhas (Islands Architecture) | O Guia do Arquiteto Front-end"><meta property="og:description" content="Explore a Arquitetura de Ilhas, um padrão que visa reduzir o JavaScript enviado ao cliente, entregando componentes interativos como &#34;ilhas&#34; em um mar de HTML estático."></head> <body class="min-h-screen bg-background font-sans antialiased"> <div class="relative flex min-h-screen flex-col"> <header class="header"> <div class="header-container"> <div class="logo"> <a href="/"> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" class="lucide lucide-book-marked h-6 w-6">  <path d="M10 2v8l3-3 3 3V2"></path> <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"></path>  </svg> <span class="logo-text">O Guia do Arquiteto Front-end</span> </a> </div> </div> </header> <div class="flex items-center gap-4">
// ... (resto do conteúdo)</div> <div class="flex-1"> <div class="grid lg:grid-cols-[280px_1fr] h-full"> <aside class="sidebar" data-astro-cid-3exahiod> <div class="search-wrapper" data-astro-cid-3exahiod> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="18" height="18" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" data-astro-cid-3exahiod="true" class="lucide lucide-search search-icon">  <path d="m21 21-4.34-4.34"></path> <circle cx="11" cy="11" r="8"></circle>  </svg> <input type="text" id="sidebar-search" placeholder="Buscar padrões..." data-astro-cid-3exahiod> </div> <nav class="nav-links" data-astro-cid-3exahiod> <ul data-astro-cid-3exahiod> <li class="category-group" data-astro-cid-3exahiod> <p class="category-title" data-astro-cid-3exahiod>Guias de Decisão</p> <ul data-astro-cid-3exahiod> <li class="nav-item" data-name="como escolher sua arquitetura guia" data-keywords="guias decisão arquitetura escolher" data-astro-cid-3exahiod> <a href="/guides/how-to-choose/" data-astro-cid-3exahiod>
Como Escolher...
</a> </li> </ul> </li> <li class="category-group" data-astro-cid-3exahiod> <p class="category-title" data-astro-cid-3exahiod>Arquiteturas de Aplicação</p> <ul data-astro-cid-3exahiod> <li class="nav-item" data-name="arquitetura de ilhas (islands architecture)" data-keywords="islands-architecture" data-astro-cid-3exahiod> <a href="/patterns/islands-architecture/" class="active" data-astro-cid-3exahiod> Arquitetura de Ilhas (Islands Architecture) </a> </li><li class="nav-item" data-name="clean architecture" data-keywords="clean-architecture" data-astro-cid-3exahiod> <a href="/patterns/clean-architecture/" data-astro-cid-3exahiod> Clean Architecture </a> </li><li class="nav-item" data-name="jamstack" data-keywords="jamstack" data-astro-cid-3exahiod> <a href="/patterns/jamstack/" data-astro-cid-3exahiod> Jamstack </a> </li><li class="nav-item" data-name="micro-frontends" data-keywords="micro-frontends" data-astro-cid-3exahiod> <a href="/patterns/micro-frontends/" data-astro-cid-3exahiod> Micro-frontends </a> </li><li class="nav-item" data-name="single page application (spa)" data-keywords="spa" data-astro-cid-3exahiod> <a href="/patterns/spa/" data-astro-cid-3exahiod> Single Page Application (SPA) </a> </li> </ul> </li><li class="category-group" data-astro-cid-3exahiod> <p class="category-title" data-astro-cid-3exahiod>Padrões de UI</p> <ul data-astro-cid-3exahiod> <li class="nav-item" data-name="atomic design" data-keywords="atomic-design" data-astro-cid-3exahiod> <a href="/patterns/atomic-design/" data-astro-cid-3exahiod> Atomic Design </a> </li><li class="nav-item" data-name="desenvolvimento orientado a componentes (cdd)" data-keywords="component-driven" data-astro-cid-3exahiod> <a href="/patterns/component-driven/" data-astro-cid-3exahiod> Desenvolvimento Orientado a Componentes (CDD) </a> </li><li class="nav-item" data-name="máquinas de estado (state machines)" data-keywords="state-machines" data-astro-cid-3exahiod> <a href="/patterns/state-machines/" data-astro-cid-3exahiod> Máquinas de Estado (State Machines) </a> </li> </ul> </li><li class="category-group" data-astro-cid-3exahiod> <p class="category-title" data-astro-cid-3exahiod>Organização de Código</p> <ul data-astro-cid-3exahiod> <li class="nav-item" data-name="monorepo" data-keywords="monorepo" data-astro-cid-3exahiod> <a href="/patterns/monorepo/" data-astro-cid-3exahiod> Monorepo </a> </li> </ul> </li> </ul> </nav> </aside>   <div class="prose dark:prose-invert max-w-none p-6 lg:p-10"> <meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"> <p>A Arquitetura de Ilhas é, para mim, uma das ideias mais inteligentes que surgiram no front-end nos últimos anos. Ela ataca um problema que nós mesmos criamos: a obsessão por SPAs que transformou a web em um festival de JavaScript pesado e spinners de loading.</p>
<p>A ideia é tão simples que chega a ser brilhante: por padrão, envie zero JavaScript. Seu site é HTML puro, rápido e acessível. Então, para cada pedacinho de interatividade que você <em>realmente</em> precisa (um carrossel de imagens, um botão de “comprar”, uma busca), você define essa área como uma “ilha”. Só essa ilha vai carregar seu próprio script, hidratando-se para se tornar interativa, sem afetar o resto da página.</p>
<p>Frameworks como o Astro são os campeões dessa abordagem. Eles te dão o poder de componentes do React, Svelte, etc., mas com a performance de um site estático como padrão. É o melhor dos dois mundos, e a prova de que nem toda aplicação precisa ser uma SPA complexa.</p>
<h3 id="o-que-é">O que é?</h3>
<hr/>
<h2 id="name-arquitetura-de-ilhasslug-islands-architecturedescription--um-padrão-para-construir-sites-mais-rápidos-enviando-menos-javascript-para-ocliente-mas-ainda-permitindo-ilhas-de-interatividadeicon-sailboatcategory-arquitetura-de-aplicaçãofeatured-true">name: Arquitetura de Ilhas
slug: islands-architecture
description: &gt;-
Um padrão para construir sites mais rápidos, enviando menos JavaScript para o
cliente, mas ainda permitindo ilhas de interatividade.
icon: sailboat
category: ‘Arquitetura de Aplicação’
featured: true</h2>
<h2 id="o-problema-que-resolve">O Problema que Resolve</h2>
<p>Aplicações de página única (SPAs) tradicionalmente enviam um grande bundle de JavaScript para o navegador. O browser então precisa baixar, analisar e executar todo esse código para poder renderizar a página e torná-la interativa. Isso pode levar a um Time to Interactive (TTI) alto, prejudicando a performance percebida pelo usuário, especialmente em dispositivos móveis ou com conexões lentas.</p>
<h2 id="como-funciona">Como Funciona</h2>
<p>A Arquitetura de Ilhas (Islands Architecture) propõe uma abordagem diferente. Em vez de uma única “ilha” grande de aplicação (a SPA), a página é renderizada no servidor como HTML estático e leve, e pequenas “ilhas” de interatividade são “hidratadas” no lado do cliente conforme necessário.</p>
<p>O conceito principal é:</p>
<ol>
<li><strong>Renderização no Servidor (SSR/SSG)</strong>: A maior parte do site é HTML estático, gerado no momento do build (SSG) ou sob demanda (SSR). Isso torna o carregamento inicial extremamente rápido.</li>
<li><strong>Ilhas de Interatividade</strong>: Componentes que precisam de JavaScript para funcionar (como um carrossel de imagens, um formulário com validação em tempo real ou um botão de “adicionar ao carrinho”) são identificados como “ilhas”.</li>
<li><strong>Hidratação Seletiva</strong>: Apenas o código JavaScript dessas ilhas é enviado para o navegador. A “hidratação” (o processo de tornar o HTML estático interativo) acontece de forma independente para cada ilha. Frameworks como o <strong>Astro</strong> (que você está usando neste projeto) são pioneiros nessa abordagem e oferecem diretivas para controlar quando uma ilha deve ser hidratada (ex: <code>client:load</code>, <code>client:idle</code>, <code>client:visible</code>).</li>
</ol>
<h2 id="diagrama-de-fluxo">Diagrama de Fluxo</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="mermaid"><code><span class="line"><span style="color:#E1E4E8">graph TD</span></span>
<span class="line"><span style="color:#E1E4E8">    subgraph &quot;Servidor (Build Time / Request Time)&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">        A[HTML Estático da Página]</span></span>
<span class="line"><span style="color:#E1E4E8">    end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    subgraph &quot;Cliente (Browser)&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">        B(Carregamento Rápido do HTML)</span></span>
<span class="line"><span style="color:#E1E4E8">        C{Ilha Interativa 1 &lt;br/&gt; (ex: Carrossel)}</span></span>
<span class="line"><span style="color:#E1E4E8">        D{Ilha Interativa 2 &lt;br/&gt; (ex: Busca)}</span></span>
<span class="line"><span style="color:#E1E4E8">        E[JavaScript da Ilha 1]</span></span>
<span class="line"><span style="color:#E1E4E8">        F[JavaScript da Ilha 2]</span></span>
<span class="line"><span style="color:#E1E4E8">    end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    A --&gt; B;</span></span>
<span class="line"><span style="color:#E1E4E8">    B --&gt; C;</span></span>
<span class="line"><span style="color:#E1E4E8">    B --&gt; D;</span></span>
<span class="line"><span style="color:#E1E4E8">    C -- Hidratação --&gt; E;</span></span>
<span class="line"><span style="color:#E1E4E8">    D -- Hidratação --&gt; F;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    style A fill:#f9f,stroke:#333,stroke-width:2px</span></span>
<span class="line"><span style="color:#E1E4E8">    style B fill:#ccf,stroke:#333,stroke-width:2px</span></span>
<span class="line"></span></code></pre>
<h2 id="benefícios">Benefícios</h2>
<ul>
<li><strong>Performance Superior</strong>: Reduz drasticamente a quantidade de JavaScript enviada ao cliente, resultando em um TTI muito mais rápido.</li>
<li><strong>SEO Aprimorado</strong>: O conteúdo é renderizado no servidor, facilitando a indexação por motores de busca.</li>
<li><strong>Resiliência</strong>: Se o JavaScript de uma ilha falhar, ele não quebra o resto da página.</li>
<li><strong>Agnóstico a Framework</strong>: Você pode ter ilhas escritas em diferentes frameworks (React, Svelte, Vue) na mesma página.</li>
</ul>
<h2 id="tldr">TL;DR</h2>
<ul>
<li><strong>HTML primeiro</strong>: Envia HTML estático e leve para o navegador.</li>
<li><strong>Hidratação seletiva</strong>: Apenas os componentes interativos (“ilhas”) carregam JavaScript.</li>
<li><strong>Performance por padrão</strong>: O objetivo principal é minimizar o JavaScript no cliente.</li>
<li><strong>Ideal para sites de conteúdo</strong>: Perfeito para blogs, e-commerce e sites de marketing, mas flexível o suficiente para aplicações mais complexas.</li>
</ul>
<h2 id="referências">Referências</h2>
<ul>
<li><strong><a href="https://jasonformat.com/islands-architecture/">Islands Architecture by Jason Miller</a></strong> - O post original que popularizou o termo.</li>
<li><strong><a href="https://docs.astro.build/en/concepts/islands/">Astro Docs: Island Architecture</a></strong> - A documentação do Astro, que é um dos principais frameworks a adotar o padrão.</li>
</ul>
<hr/>
<h3 id="análise-arquitetural">Análise Arquitetural</h3>
<h4 id="quando-usar">Quando Usar?</h4>
<ul>
<li><strong>Sites Focados em Conteúdo com Ilhas de Interatividade:</strong> O caso de uso perfeito. Blogs, sites de notícias, e-commerce, portais de documentação (como este!).</li>
<li><strong>Prioridade Máxima em Performance de Carregamento:</strong> Para métricas como First Contentful Paint (FCP) e Time to Interactive (TTI), essa arquitetura é imbatível, pois envia o mínimo de JavaScript possível por padrão.</li>
<li><strong>Projetos com SEO Crítico:</strong> O conteúdo é renderizado no servidor (SSR/SSG), tornando-o perfeitamente indexável por buscadores.</li>
</ul>
<h4 id="trade-offs-contras">Trade-offs (Contras)</h4>
<ul>
<li><strong>Complexidade de Estado Global:</strong> Compartilhar estado entre diferentes ilhas não é trivial e pode exigir soluções customizadas ou o uso de stores que rodam fora das ilhas.</li>
<li><strong>Não Ideal para “Apps”:</strong> Em aplicações altamente interativas (como um editor de fotos, um dashboard complexo ou o Gmail), onde quase toda a tela é uma “ilha”, o modelo perde suas vantagens e um SPA tradicional pode ser mais simples.</li>
<li><strong>Mudança de Paradigma:</strong> Exige que os desenvolvedores pensem cuidadosamente sobre o que precisa ser interativo e o que pode ser HTML estático, uma mentalidade diferente da abordagem “tudo é JavaScript” de um SPA.</li>
</ul>
<hr/>
<h3 id="exemplos-no-mundo-real">Exemplos no Mundo Real</h3>
<ul>
<li>
<p><strong>Aplicações Famosas:</strong></p>
<ul>
<li><strong>eBay:</strong> Um dos primeiros grandes players a discutir publicamente sua implementação de uma arquitetura semelhante (conhecida como “top-down hydration”).</li>
<li><strong>Qualquer site construído com Astro:</strong> Por padrão, o Astro segue a arquitetura de ilhas.</li>
</ul>
</li>
<li>
<p><strong>Stacks de Tecnologia Comuns:</strong></p>
<ul>
<li><strong>Frameworks:</strong> Astro, Qwik, Fresh (para Deno), Eleventy (com ilhas via plugin).</li>
<li>Você pode usar qualquer framework de UI (React, Svelte, Vue) para criar os componentes que serão as “ilhas” dentro desses frameworks.</li>
</ul>
</li>
<li>
<p><strong>Repositórios de Exemplo / Boilerplates:</strong></p>
<ul>
<li><strong><a href="https://astro.build/themes/">Astro Starter Kits</a></strong></li>
<li><strong><a href="https://qwik.builder.io/docs/getting-started/">Qwik City Starter</a></strong></li>
<li><strong><a href="https://fresh.deno.dev/">Fresh Starter Template</a></strong></li>
</ul>
</li>
</ul>
<hr/>
<h3 id="como-começar">Como Começar</h3>
<p>Adotar a arquitetura de Ilhas é mais sobre escolher o framework certo do que configurar algo complexo do zero.</p>
<ol>
<li>
<p><strong>Com Astro:</strong>
Qualquer componente de UI (React, Svelte, Vue, etc.) pode se tornar uma ilha. O segredo é a diretiva <code>client:*</code>.</p>
<ul>
<li>
<p><strong>Crie seu componente interativo:</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#6A737D">// src/components/Counter.jsx</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { useState } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;react&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> default</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> Counter</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">count</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">setCount</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#B392F0"> useState</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> className</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;border p-4&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">&gt;Contador: {count}&lt;/</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">button</span><span style="color:#B392F0"> onClick</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{() </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> setCount</span><span style="color:#E1E4E8">(count </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)} </span><span style="color:#B392F0">className</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">&quot;bg-blue-500 text-white p-2&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">        Incrementar</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;/</span><span style="color:#85E89D">button</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  );</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
</li>
<li>
<p><strong>Use-o em uma página Astro com uma diretiva <code>client:</code>:</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="astro"><code><span class="line"><span style="color:#6A737D">---</span></span>
<span class="line"><span style="color:#6A737D">// src/pages/index.astro</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Layout </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;../layouts/Layout.astro&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Counter </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;../components/Counter.jsx&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">---</span></span>
<span class="line"><span style="color:#E1E4E8">&lt;</span><span style="color:#79B8FF">Layout</span><span style="color:#B392F0"> title</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">&quot;Ilhas com Astro&quot;</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">h1</span><span style="color:#E1E4E8">&gt;Página Estática com Ilha Interativa&lt;/</span><span style="color:#85E89D">h1</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">&gt;Este conteúdo é estático e não carrega JavaScript.&lt;/</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  {</span><span style="color:#6A737D">/* Esta é a ilha. O JS só será carregado quando o componente for visível. */</span><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#79B8FF">Counter</span><span style="color:#B392F0"> client:visible</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">&lt;/</span><span style="color:#79B8FF">Layout</span><span style="color:#E1E4E8">&gt;</span></span></code></pre>
<p>A diretiva <code>client:visible</code> instrui o Astro a hidratar o componente apenas quando ele entra na tela, economizando recursos.</p>
</li>
</ul>
</li>
<li>
<p><strong>Com Fresh (Deno):</strong>
Fresh tem uma convenção de arquivos para ilhas.</p>
<ul>
<li><strong>Crie seu componente na pasta <code>islands/</code>:</strong>
Qualquer arquivo em <code>islands/</code> é tratado como uma ilha.
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#6A737D">// islands/Countdown.tsx</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { useState, useEffect } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;preact/hooks&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> default</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> Countdown</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">time</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">setTime</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#B392F0"> useState</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">  useEffect</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> timer</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> setInterval</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">      setTime</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">t</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> t </span><span style="color:#F97583">&gt;</span><span style="color:#79B8FF"> 0</span><span style="color:#F97583"> ?</span><span style="color:#E1E4E8"> t </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#F97583"> :</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }, </span><span style="color:#79B8FF">1000</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> clearInterval</span><span style="color:#E1E4E8">(timer);</span></span>
<span class="line"><span style="color:#E1E4E8">  }, []);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">&gt;Contagem regressiva: &lt;</span><span style="color:#85E89D">strong</span><span style="color:#E1E4E8">&gt;{time}&lt;/</span><span style="color:#85E89D">strong</span><span style="color:#E1E4E8">&gt;&lt;/</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  );</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
</li>
<li><strong>Use-o em uma rota:</strong>
Apenas importe e use. O Fresh cuida da hidratação automaticamente.
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#6A737D">// routes/index.tsx</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Countdown </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;../islands/Countdown.tsx&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> default</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> Home</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">h2</span><span style="color:#E1E4E8">&gt;Página gerada no servidor&lt;/</span><span style="color:#85E89D">h2</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">&gt;Abaixo está um componente interativo:&lt;/</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#79B8FF">Countdown</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  );</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
</li>
</ul>
</li>
</ol> </div> </div> </div> <footer class="footer"> <div class="footer-container"> <p class="copyright">© 2024 Tiago Vilas Boas. Todos os direitos reservados.</p> <div class="social-links"> <a href="https://www.linkedin.com/in/tiagovilasboas/" target="_blank" aria-label="LinkedIn"> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" class="lucide lucide-linkedin h-5 w-5">  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path> <rect width="4" height="12" x="2" y="9"></rect> <circle cx="4" cy="4" r="2"></circle>  </svg> </a> <a href="https://github.com/tiagovilasboas" target="_blank" aria-label="GitHub"> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" class="lucide lucide-github h-5 w-5">  <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path> <path d="M9 18c-4.51 2-5-2-7-2"></path>  </svg> </a> </div> </div> </footer> </div> </body></html> </div> </article>  </main> <footer class="footer" data-astro-cid-q7ila5la> <p data-astro-cid-q7ila5la>Construído com <a href="https://astro.build" target="_blank" data-astro-cid-q7ila5la>Astro</a>. 
          Código-fonte no <a href="https://github.com/undefined" target="_blank" data-astro-cid-q7ila5la>GitHub</a>.
</p> </footer> </div> <script type="module">document.getElementById("menu-toggle").addEventListener("click",()=>{document.body.classList.toggle("sidebar-visible")});</script> </body> </html>  