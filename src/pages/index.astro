---
import BaseLayout from '../components/layouts/BaseLayout.astro';
import Hero from '../components/sections/Hero.astro';
import PatternsGrid from '../components/sections/PatternsGrid.astro';
import WhyGuide from '../components/sections/WhyGuide.astro';
import AboutAuthor from '../components/sections/AboutAuthor.astro';
import CallToAction from '../components/sections/CallToAction.astro';
import { getRepoStats } from '../lib/services/github';
import { getFeaturedPatterns } from '../lib/patterns';
import { SITE_CONFIG } from '../config';

const ghStats = await getRepoStats(SITE_CONFIG.githubRepo);
const featuredPatterns = await getFeaturedPatterns();
---
<BaseLayout>
  <Hero stars={ghStats.stars} forks={ghStats.forks} />
  
  <WhyGuide />
  
  <section class="patterns-section">
    <PatternsGrid patterns={featuredPatterns} />
  </section>

  <CallToAction />
  
  <AboutAuthor />
</BaseLayout>

<style>
  .patterns-section {
    padding-top: 3rem;
    padding-bottom: 3rem;
  }
</style> 